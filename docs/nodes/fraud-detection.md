# Fraud Detection Node — User Guide

## 1. Node Overview

### What Is the Fraud Detection Node?
The Fraud Detection node analyzes transaction or user activity data to identify potentially fraudulent behavior. It evaluates inputs such as transaction amount, location, device, frequency, and user history to calculate a fraud risk score or fraud decision.

### What Problems It Solves
- Prevents financial fraud
- Detects suspicious transactions early
- Reduces manual fraud review effort
- Protects users and businesses
- Automates risk assessment decisions

### Common Real-World Use Cases
- Detecting fraudulent online payments
- Flagging suspicious login attempts
- Preventing fake account creation
- Monitoring abnormal transaction behavior
- Risk scoring for loan or credit approvals
- Fraud checks before order fulfillment

---

## 2. Prerequisites

Before using the Fraud Detection node, ensure you have:
- Transaction or user activity data available
- Basic understanding of what fraud means for your business
- Defined risk tolerance (low, medium, high)
- Permission to process user or transaction data
- Compliance with local data protection laws (recommended)

Note: No admin access is required, but accurate input data is critical.

---

## 3. Authentication & Credentials Setup

### Does the Fraud Detection Node Require Authentication?
- Internal Fraud Detection Node: No authentication required
- External Fraud Service Integration: API key or token may be required

### If Credentials Are Required, They Usually Include
- API Key
- Secret Token
- Endpoint URL

### Why Authentication Is Required (If Applicable)
Authentication allows secure access to:
- Fraud scoring engines
- Machine-learning risk models
- External fraud databases

### Common Mistakes
- Missing API key
- Using test keys in production
- Expired tokens
- Incorrect environment (sandbox vs live)

---

## 4. Input Fields – Detailed Explanation (Core Section)

Below are all common input fields used in a Fraud Detection node, explained in simple terms.

### 4.1 Operation / Action Type
**Description:** Defines what type of fraud analysis is performed.  
**Required:** Yes  

**Common Values**
- Evaluate Transaction
- Evaluate User
- Risk Scoring
- Fraud Classification
- Rule-Based Check

**How to choose:** Pick the action that matches your workflow. For example, use **Evaluate Transaction** for payment checks, or **Evaluate User** for account risk checks.

---

### 4.2 Transaction ID
**Description:** Unique identifier for the transaction.  
**Required:** Recommended  
**Example Value:** `TXN_98456321`

**How to get this value**
- Generated by your payment system or order process
- Can be auto-generated if unavailable

---

### 4.3 User ID / Customer ID
**Description:** Unique identifier for the user involved.  
**Required:** Yes  
**Example Value:** `USER_10293`

**How to get this value**
- From your user database or CRM
- Account ID or email hash can be used

---

### 4.4 Transaction Amount
**Description:** Monetary value of the transaction.  
**Required:** Yes  
**Example Value:** `4999.00`

**Tip:** Always provide a numeric value (not text).

---

### 4.5 Currency
**Description:** Currency of the transaction.  
**Required:** Yes  
**Example Values:** `USD`, `INR`, `EUR`

---

### 4.6 Transaction Type
**Description:** Nature of the transaction.  
**Required:** Optional  

**Example Values**
- Purchase
- Refund
- Withdrawal
- Transfer
- Subscription

---

### 4.7 Transaction Date / Timestamp
**Description:** Date and time of the transaction.  
**Required:** Optional  
**Example Value:** `2026-02-01T14:32:00Z`

**Tip:** Use ISO-8601 format whenever possible.

---

### 4.8 User Location (Country / Region)
**Description:** Geographic location of the user.  
**Required:** Optional but recommended  
**Example Value:** `India`, `US`, `Germany`

**How to get this value**
- From IP address lookup
- From user profile
- From billing address

---

### 4.9 IP Address
**Description:** IP address used during the transaction.  
**Required:** Optional  
**Example Value:** `103.25.64.18`

---

### 4.10 Device Information
**Description:** Device used by the user.  
**Required:** Optional  

**Example Values**
- Mobile
- Desktop
- Tablet
- Browser fingerprint

**Tip:** If you have a device ID or fingerprint, include it for stronger detection.

---

### 4.11 Payment Method
**Description:** Method used for payment.  
**Required:** Optional  

**Example Values**
- Credit Card
- Debit Card
- UPI
- Wallet
- Bank Transfer

---

### 4.12 Velocity / Frequency Check
**Description:** Number of transactions in a short time.  
**Required:** Optional  
**Example Value:** `5 transactions in 10 minutes`

**How to get this value**
- Count recent transactions in your database for the same user
- Use time windows like 5 minutes, 10 minutes, or 1 hour

---

### 4.13 Risk Threshold
**Description:** Score above which a transaction is considered risky.  
**Required:** Yes  

**Example Values**
- `30` → Low Risk
- `60` → Medium Risk
- `80` → High Risk

**How to choose:** Start with a medium threshold (e.g., 60). Adjust after reviewing false positives and missed fraud cases.

---

### 4.14 Fraud Rules (Optional)
**Description:** Custom rules for fraud detection.  
**Required:** Optional  

**Example Rules**
- Amount > 10,000
- Country mismatch
- Multiple failed attempts
- New device + high value

**Tip:** Use rules for business-specific logic that a model might not capture.

---

### 4.15 Enable Machine Learning Scoring
**Description:** Uses AI/ML to calculate fraud risk.  
**Required:** Optional  
**Values:** Yes / No

**When to use:** Enable this if you want more adaptive detection beyond simple rules.

---

### 4.16 Output Format
**Description:** Format of the fraud result.  
**Required:** Optional  

**Values**
- Risk Score Only
- Decision Only
- Full Analysis

---

### 4.17 Metadata / Additional Data
**Description:** Extra information for analysis.  
**Required:** Optional  

**Example Value**
```
{
  "promo_used": true,
  "account_age_days": 2
}
```

**Tip:** Include useful signals like account age, promotion usage, or user tier.

---

## 5. Example Configurations

### Simple Example – Transaction Fraud Check
**Inputs**
- Operation: Evaluate Transaction
- Transaction Amount: 7500
- Currency: INR
- User Location: India
- Risk Threshold: 70

**Output**
- Risk Score: 45
- Decision: Safe

---

### Advanced Example – High-Risk Detection
**Inputs**
- Transaction Amount: 15000
- IP Location: Different country
- New Device: Yes
- Velocity: 3 transactions in 5 minutes
- Risk Threshold: 60

**Output**
- Risk Score: 82
- Decision: Fraud
- Reason: Location mismatch + high amount

---

## 6. Output Explanation

The Fraud Detection node may return:
- **Risk Score (0–100):** Numeric fraud risk level
- **Fraud Decision:** Safe / Review / Fraud
- **Risk Level:** Low / Medium / High
- **Triggered Rules:** Which rules were matched
- **Confidence Score:** How confident the model is
- **Execution Status:** Whether the check succeeded

---

## 7. Common Errors & Fixes

### Missing Required Fields
**Cause:** Amount or User ID missing  
**Fix:** Provide mandatory fields

### Incorrect Data Type
**Cause:** Amount passed as text  
**Fix:** Use numeric values

### Low Accuracy Results
**Cause:** Insufficient input data  
**Fix:** Provide location, device, and history data

### Threshold Too Low
**Cause:** Too many false positives  
**Fix:** Increase risk threshold

### Threshold Too High
**Cause:** Fraud not detected  
**Fix:** Lower threshold carefully

---

## 8. Best Practices

- Always include transaction amount and user ID
- Use realistic risk thresholds
- Combine rule-based and ML-based detection
- Log fraud results for audit
- Review flagged cases manually
- Continuously refine fraud rules
- Avoid storing sensitive personal data unnecessarily
- Test fraud detection with sample data first
